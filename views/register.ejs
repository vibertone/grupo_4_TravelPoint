<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/31b9fa39aa.js" crossorigin="anonymous"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script> window.fbAsyncInit = function () {
            FB.init({
                appId: '402008404714331',
                cookie: true,
                xfbml: true,
                version: '11'
            });

            FB.AppEvents.logPageView();

        };
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
    <meta name="google-signin-client_id" content="AIzaSyBrscPUe1Wa8k9ufXG9n5rUPN0gh-8WMJU">
    <title>Creá tu cuenta</title>
</head>

<body>
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v12.0"
        nonce="VFH2JtUh"></script>
    <%- include('./partials/header') %>
        <main>
            <div class="login">
                <h3>Registrate con Google</h3>
                <div class="apis">
                    <div class="g-signin2" data-onsuccess="onSignIn"></div>
                    <div class="fb-login-button" data-width="50px" data-size="medium" data-button-type="login_with"
                        data-layout="default" data-auto-logout-link="false" data-use-continue-as="false"></div>
                </div>
                <% if (locals.errors) { %>
                    <% } %>
                        <form action="/user/register" method="POST">
                            <h3>O registrate con tu Email</h3>
                            <div>
                                <p class="inputClass-forValidation">
                                    <input type="text" name="email" id="email" placeholder="Ingresa tu Email"
                                        value="<%= locals.old && old.email ? old.email : '' %>"></p>
                                <% if(locals.errors && errors.email) { %>
                                    <p class="msg-error-form">
                                        <%= errors.email.msg %>
                                    </p>
                                    <% } %>
                                        <p class="inputClass-forValidation">
                                            <input type="password" name="password" id="password"
                                                placeholder="Contraseña">
                                        </p>
                                        <% if(locals.errors && errors.password) { %>
                                            <p class="msg-error-form">
                                                <%= errors.password.msg %>
                                            </p>
                                            <% } %>
                                                <p class="inputClass-forValidation">
                                                    <input type="password" name="repeatPassword" id="repeat-password"
                                                        placeholder="Repite Contraseña">
                                                </p>
                                                <% if(locals.errors && errors.repeatPassword) { %>
                                                    <p class="msg-error-form">
                                                        <%= errors.repeatPassword.msg %>
                                                    </p>
                                                    <% } %>
                            </div>
                            <div>
                                <p class="inputClass-forValidation">
                                    <input type="text" id="name" name="name" placeholder="Nombre"
                                        value="<%= locals.old && old.name ? old.name : '' %>">
                                </p>
                                <% if(locals.errors && errors.name) { %>
                                    <p class="msg-error-form">
                                        <%= errors.name.msg %>
                                    </p>
                                    <% } %>
                                        <p class="inputClass-forValidation">
                                            <input type="text" id="last-name" name="lastName" placeholder="Apellido"
                                                value="<%= locals.old && old.lastName ? old.lastName : '' %>"
                                                class="form-control is-invalid">
                                        </p>
                                        <% if(locals.errors && errors.lastName) { %>
                                            <p class="msg-error-form">
                                                <%= errors.lastName.msg %>
                                            </p>
                                            <% } %>
                                                <p class="inputClass-forValidation">
                                                    <select id="country" name="country">
                                                        <option value="">Nacionalidad</option>
                                                        <% let countries=["Argentina", "Brasil" , "Chile" , "Venezuela",
                                                                          "Uruguay" , "Peru", "Bolivia", "Paraguay" ] %>
                                                            <% for (const oneCountry of countries) { %>
                                                                <option value="<%= oneCountry %>" <%=locals.old &&
                                                                    oneCountry === old.country ? 'selected' : null %>>
                                                                    <%= oneCountry %>
                                                                </option>
                                                                <% } %>
                                                    </select>
                                                    <% if (locals.errors && errors.country) { %>
                                                        <p class="msg-error-form">
                                                            <%= errors.country.msg %>
                                                        </p>
                                                        <% } %>
                                                </p>
                            </div>
                            <p>
                                <button type="submit">Registrarse</button>
                            </p>
                        </form>
            </div>
        </main>
        <%- include('./partials/footer') %>
</body>

</html>