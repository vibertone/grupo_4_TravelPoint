<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/31b9fa39aa.js" crossorigin="anonymous"></script>
    <meta name="google-signin-client_id" content="AIzaSyBrscPUe1Wa8k9ufXG9n5rUPN0gh-8WMJU">
    <title>Creá tu cuenta</title>
</head>

<body>
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v12.0"
        nonce="VFH2JtUh"></script>
    <%- include('./partials/header') %>
        <main>
            <div class="login">
                <% if (locals.errors) { %>
                    <% } %>
                        <form action="/user/register" method="POST">
                            <h3>Registrate con tus datos</h3>
                            <div>
                                <p class="inputClass-forValidation">
                                    <input type="text" name="email" id="email" placeholder="Ingresa tu Email"
                                        value="<%= locals.old && old.email ? old.email : '' %>"></p>
                                <% if(locals.errors && errors.email) { %>
                                    <p class="msg-error-form">
                                        <%= errors.email.msg %>
                                    </p>
                                    <% } %>
                                        <p class="inputClass-forValidation">
                                            <input type="password" name="password" id="password"
                                                placeholder="Contraseña">
                                        </p>
                                        <% if(locals.errors && errors.password) { %>
                                            <p class="msg-error-form">
                                                <%= errors.password.msg %>
                                            </p>
                                            <% } %>
                                                <p class="inputClass-forValidation">
                                                    <input type="password" name="repeatPassword" id="repeat-password"
                                                        placeholder="Repite Contraseña">
                                                </p>
                                                <% if(locals.errors && errors.repeatPassword) { %>
                                                    <p class="msg-error-form">
                                                        <%= errors.repeatPassword.msg %>
                                                    </p>
                                                    <% } %>
                            </div>
                            <div>
                                <p class="inputClass-forValidation">
                                    <input type="text" id="name" name="name" placeholder="Nombre"
                                        value="<%= locals.old && old.name ? old.name : '' %>">
                                </p>
                                <% if(locals.errors && errors.name) { %>
                                    <p class="msg-error-form">
                                        <%= errors.name.msg %>
                                    </p>
                                    <% } %>
                                        <p class="inputClass-forValidation">
                                            <input type="text" id="last-name" name="last_name" placeholder="Apellido"
                                                value="<%= locals.old && old.last_name ? old.last_name : '' %>"
                                                class="form-control is-invalid">
                                        </p>
                                        <% if(locals.errors && errors.last_name) { %>
                                            <p class="msg-error-form">
                                                <%= errors.last_name.msg %>
                                            </p>
                                            <% } %>
                                                <p class="inputClass-forValidation">
                                                    <select id="country" name="country">
                                                        <option value="">Nacionalidad</option>
                                                            <% for (let i = 0; i<countries.length; i++) { %>
                                                                <option value="<%= countries[i].name.common %>" <%=locals.old &&
                                                                    countries[i].name.common === old.country ? 'selected' : null %>>
                                                                    <%= countries[i].name.common %>
                                                                </option>
                                                                <% } %>
                                                    </select>
                                                    <% if (locals.errors && errors.country) { %>
                                                        <p class="msg-error-form">
                                                            <%= errors.country.msg %>
                                                        </p>
                                                        <% } %>
                                                </p>
                            </div>
                            <p>
                                <button type="submit">Registrarse</button>
                            </p>
                        </form>
            </div>
        </main>
        <%- include('./partials/footer') %>
</body>

</html>